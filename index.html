<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CSV Editor</title>
    <link href="bootstrap-5.2.0-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="container d-flex flex-column py-3 h-100">
      <div class="row">
        <div class="col-12 col-lg-6 mb-3">
          <div class="input-group">
            <input class="form-control" v-model="file.name">
            <button class="btn btn-outline-secondary" style="width:4rem;" @click="clickNewButton">New</button>
            <button class="btn btn-outline-secondary" style="width:4rem;" @click="clickOpenButton">Open</button>
            <button class="btn btn-outline-secondary" style="width:4rem;" @click="clickSaveButton">Save</button>
          </div>
        </div>
        <div class="col-6 col-lg-3 mb-3">
          <div class="input-group">
            <span class="input-group-text" style="width:6rem;">Delimiter:</span>
            <select class="form-select" v-model="options.delimiter">
              <option v-for="(delimiter,name) in delimiters" :key="name" :value="delimiter">{{ name }}</option>
            </select>
            <span class="input-group-text" style="width:2rem;">{{ options.delimiter }}</span>
          </div>
        </div>
        <div class="col-6 col-lg-3 mb-3">
          <div class="input-group">
            <span class="input-group-text" style="width:6rem;">Quote:</span>
            <select class="form-select" v-model="options.quote">
              <option v-for="(quote,name) in quotes" :key="name" :value="quote">{{ name }}</option>
            </select>
            <span class="input-group-text" style="width:2rem;">{{ options.quote }}</span>
          </div>
        </div>
        <div class="col-12 col-lg-6 mb-3">
          <div class="input-group">
            <div class="input-group-text">
              <label class="form-check-label">
                <input class="form-check-input" type="checkbox" v-model="options.header">
                Header
              </label>
            </div>
            <input class="form-control" disabled>
            <button class="btn btn-outline-secondary" style="width:4rem;" @click="trim">Trim</button>
            <button class="btn btn-outline-secondary" style="width:4rem;" disabled>Json</button>
          </div>
        </div>
        <div class="col-6 col-lg-3 mb-3">
          <div class="input-group">
            <span class="input-group-text" style="width:6rem;">Row:</span>
            <select class="form-select">
              <option v-for="i in records.length" :key="i" :value="i">{{ i }}</option>
            </select>
            <button class="btn btn-outline-secondary" style="width:4rem;" disabled>Delete</button>
            <button class="btn btn-outline-secondary" style="width:4rem;" disabled>Insert</button>
          </div>
        </div>
        <div class="col-6 col-lg-3 mb-3">
          <div class="input-group">
            <span class="input-group-text" style="width:6rem;">Column:</span>
            <select class="form-select">
              <option v-for="i in records[0].length" :key="i" :value="i">{{ getColumnString(i) }}</option>
            </select>
            <button class="btn btn-outline-secondary" style="width:4rem;" disabled>Delete</button>
            <button class="btn btn-outline-secondary" style="width:4rem;" disabled>Insert</button>
          </div>
        </div>
      </div>
      <div class="flex-fill">
        <table class="table table-bordered table-success table-striped">
          <thead class="table-light">
            <tr v-if="options.header">
              <th scope="col"></th>
              <th scope="col" v-for="(field,i) in records[0]" :key="i"><pre contenteditable="true">{{ field }}</pre></th>
              <th class="text-center" scope="col"><a href="###" @click="addColumn">[+]</a></th>
            </tr>
            <tr v-else>
              <th scope="col"></th>
              <th class="text-center" scope="col" v-for="i in records[0].length" :key="i">{{ getColumnString(i) }}</th>
              <th class="text-center" scope="col"><a href="###" @click="addColumn">[+]</a></th>
            </tr>
          </thead>
          <tbody v-if="options.header">
            <tr v-for="(record,i) in records.slice(1)" :key="i">
              <th class="text-center" scope="row">{{ i+1 }}</th>
              <td v-for="(field,j) in record" :key="j"><pre contenteditable="true">{{ field }}</pre></td>
            </tr>
            <tr>
              <th class="text-center" scope="row"><a href="###" @click="addRow">[+]</a></th>
            </tr>
          </tbody>
          <tbody v-else>
            <tr v-for="(record,i) in records" :key="i">
              <th class="text-center" scope="row">{{ i+1 }}</th>
              <td v-for="(field,j) in record" :key="j"><pre contenteditable="true">{{ field }}</pre></td>
            </tr>
            <tr>
              <th class="text-center" scope="row"><a href="###" @click="addRow">[+]</a></th>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <script src="petite-vue-0.4.1-dist/petite-vue.iife.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
